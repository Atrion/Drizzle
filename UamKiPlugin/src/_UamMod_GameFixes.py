##    Copyright 2005-2010 Dustin Bernard##    This file is part of UruAgeManager/Drizzle.##    UruAgeManager/Drizzle is free software: you can redistribute it and/or modify#    it under the terms of the GNU General Public License as published by#    the Free Software Foundation, either version 3 of the License, or#    (at your option) any later version.##    UruAgeManager/Drizzle is distributed in the hope that it will be useful,#    but WITHOUT ANY WARRANTY; without even the implied warranty of#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the#    GNU General Public License for more details.##    You should have received a copy of the GNU General Public License#    along with UruAgeManager/Drizzle.  If not, see <http://www.gnu.org/licenses/>.#import _UamEventsimport _UamUtilsimport uam#register for ki notificationsdef UamOnKiCommand(command):    #print "UamModHelp.UamOnKiCommand: "+`command`    agename = _UamUtils.GetAgeName()    if agename=="BahroCave02" or agename=="BahroCave" or agename=="LiveBahroCaves":        if command=="/nexus" or command=="/hood" or command.startswith("/link "):            uam.PrintKiMessage("You can't link out of a Bahro Cave this way.")            return True #intercept further handling            _UamEvents.RegisterForKiCommand(UamOnKiCommand)